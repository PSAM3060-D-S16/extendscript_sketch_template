var doc = app.activeDocument;var segments = 1000;var segmentSize = 10;// var line = brownianLine(doc, segments, segmentSize);var myWindow = new Window("palette");var myMessage = myWindow.add("statictext");myMessage.text = "Hello, world!";var brownIt = myWindow.add("button", undefined, "Brown It!");brownIt.onClick = function () {     $.writeln("onClick");    brownianLine(doc, segments, segmentSize);};myWindow.show();$.writeln("complete");("complete");function brownianLine(parent, segments, segmentSize) {    $.writeln("brownianLine");	var x = 0;	var y = 0;    var points = [];	for (i = 0; i < segments; i++) {		points.push([x, y]);		x += roundTo(random(-segmentSize, segmentSize), segmentSize);		y += roundTo(random(-segmentSize, segmentSize), segmentSize);	}    var p = parent.pathItems.add();    p.setEntirePath(points);    return p;}function random(min, max) {	return Math.random() * (max - min) + min;}function roundTo(value, grid) {	return Math.round(value / grid) * grid;}